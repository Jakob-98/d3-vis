<!DOCTYPE html>
<html>

<head>
  <!-- Local d3: -->
  <!-- <script type="text/javascript" src="src/d3/d3.js"></script>  -->

  <link href="https://fonts.googleapis.com/css?family=Crimson+Text|Work+Sans:400,700" rel="stylesheet">

  <script src="//cdnjs.cloudflare.com/ajax/libs/d3/3.5.3/d3.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/topojson/1.6.9/topojson.min.js"></script>
  <script src="../src/scripts.js"></script>
  <script src="../src/datamaps.world.min.js"></script>

  <link rel="stylesheet" href="./src/style.css">

  <!-- TODO add high res -->
  <!-- https://datamaps.github.io/hi-res.html -->
</head>

<body>
  <h2 style="text-align:center">Relating CO2 emissions accross europe to their sectors</h1>
  <div id="map"></div> 
  <!-- style='width:100vh; height:100vh;'></div> -->

  <script>
      var bubble_map = new Datamap({
        element: document.getElementById('map'),
        scope: 'europe',
        geographyConfig: {
          popupOnHover: true,
          highlightOnHover: true,
          borderColor: '#0B4152',
          borderWidth: 1.5,
          // source: https://github.com/leakyMirror/map-of-europe/blob/master/TopoJSON/europe.topojson
          dataUrl: './src/europe.topojson'
          //dataJson: topoJsonData
        },
        fills: {
          'MAJOR': '#306596',
          'MEDIUM': '#0fa0fa',
          'MINOR': '#bada55',  
          defaultFill: '#ffdd00'
        },
        data: {
            'CY': { fillKey: 'MINOR' },
            'NL': { fillKey: 'MINOR' },
            'DE': { fillKey: 'MINOR' }
        },
        setProjection: function (element) {
          var projection = d3.geo.equirectangular()
            .center([10, 50])
            .rotate([4.4, 0])
            .scale(750)
            .translate([element.offsetWidth / 3, element.offsetHeight / 2]);
          var path = d3.geo.path()
            .projection(projection);
          return { path: path, projection: projection };
        }
      });
  </script>
</body>

</html>